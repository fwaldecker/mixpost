import{d as y,u as x,i as h,x as k,l as S,c,o as u,a as t,b as e,g as j,w as s,e as l,f as B,h as N,j as w,_,F as p,r as C,t as a,S as q,k as f,m as I,n as L}from"./app-C7yQ4yxP.js";import{_ as O}from"./Admin-2kdh7iq6.js";import{_ as A}from"./Settings-D53DAkIB.js";import{_ as D}from"./Panel-DHnLtGhx.js";import{_ as E}from"./Select-DMzj8fYH.js";import{_ as F}from"./Alert-nkqBEIg3.js";import{_ as P}from"./Textarea-Cj05CTrn.js";import"./QueueList-DM6iDr1_.js";import"./PageHeader-L61bBZJ1.js";import"./Flex-B0LjVlwe.js";import"./Tab-QSPdE2y6.js";const U={for:"provider"},M=["value"],T={for:"instructions"},z=y({layout:O}),se=Object.assign(z,{__name:"AIConfig",props:{configs:{required:!0,type:Object},providers:{required:!0,type:Object},is_configured:{required:!0,type:Boolean}},setup(d){const g=d,{t:i}=x(),m=h("routePrefix"),o=k(S.cloneDeep(g.configs)),{notify:v}=L(),b=()=>{o.put(route(`${m}.configs.ai.update`),{preserveScroll:!0,onSuccess:()=>{v("success",i("general.saved"))}})};return($,r)=>(u(),c(p,null,[t(e(j),{title:"AI"}),t(A,null,{default:s(()=>[l("form",{onSubmit:B(b,["prevent"])},[t(D,null,{title:s(()=>[f(a(e(i)("ai.ai")),1)]),default:s(()=>[t(_,{class:"form-field"},{title:s(()=>[l("label",U,a(e(i)("ai.ai_provider")),1)]),default:s(()=>[t(E,{modelValue:e(o).provider,"onUpdate:modelValue":r[0]||(r[0]=n=>e(o).provider=n),id:"provider"},{default:s(()=>[r[2]||(r[2]=l("option",{value:""},"-",-1)),(u(!0),c(p,null,C(d.providers,(n,V)=>(u(),c("option",{value:V},a(n),9,M))),256))]),_:1},8,["modelValue"])]),_:1}),d.is_configured?w("",!0):(u(),N(F,{key:0,variant:"warning",closeable:!1,class:"form-field mt-lg"},{default:s(()=>[l("p",null,a(e(i)("ai.ai_services_not_configured")),1),t(e(q),{href:$.route(`${e(m)}.services.index`),class:"mt-md link-lighter"},{default:s(()=>[f(a(e(i)("ai.configure_ai_service")),1)]),_:1},8,["href"])]),_:1})),t(_,{class:"form-field mt-lg"},{title:s(()=>[l("label",T,a(e(i)("ai.instructions_assistant")),1)]),default:s(()=>[t(P,{modelValue:e(o).instructions,"onUpdate:modelValue":r[1]||(r[1]=n=>e(o).instructions=n),id:"instructions",placeholder:e(i)("ai.you_are_social")},null,8,["modelValue","placeholder"])]),_:1}),t(I,{disabled:e(o).processing,isLoading:e(o).processing,type:"submit",class:"mt-lg"},{default:s(()=>[f(a(e(i)("general.save")),1)]),_:1},8,["disabled","isLoading"])]),_:1})],32)]),_:1})],64))}});export{se as default};
