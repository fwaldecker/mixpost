import{i as g,h as c,o as i,w as r,e,a as o,t as l,b as s,S as y,B as G,c as b,D as S,j as m,O as j,k as d,_ as B,m as T,I as U,n as z,a1 as M,x as N,s as J,f as Q,P as K,A as Z,H as ee,a7 as se,U as te,av as oe,u as ae,q as re,g as ne,F as q,r as le,y as E,Q as ie,z as ce,aw as ue,ax as de,v as pe,W as fe,V as P,a0 as _e,J as me}from"./app-C7yQ4yxP.js";import{_ as ve}from"./PageHeader-L61bBZJ1.js";import{_ as ke}from"./Panel-DHnLtGhx.js";import{_ as ge}from"./Account-BdxLlc1J.js";import{T as xe,F as he,M as be,I as $e,a as we,Y as ye,P as Ce,_ as V}from"./ProviderIcon-H9joOgZv.js";import{_ as R}from"./Radio-BputZrd1.js";import{_ as Y}from"./Flex-B0LjVlwe.js";import{E as Ae}from"./EllipsisVertical-Cfd6Agro.js";import{R as Se}from"./Refresh-LmV19YMu.js";import{T as Ie}from"./Trash-TUAkcl9a.js";import{_ as Pe}from"./AlertUnconfiguredService-RQBJVU69.js";import{_ as Te}from"./Alert-nkqBEIg3.js";import{A as Ve}from"./ArrowTopRightOnSquare-509xbi7A.js";import"./ExclamationCircle-DNtr2LeT.js";const Le={class:"flex mr-4"},Fe={class:"flex flex-col items-start"},Be={__name:"AddTwitterAccount",setup(v){const a=g("workspaceCtx");return(t,n)=>(i(),c(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(a).id,provider:"twitter"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-twitter/20 ease-in-out duration-200"},{default:r(()=>[e("span",Le,[o(xe,{class:"text-twitter"})]),e("span",Fe,[n[0]||(n[0]=e("span",{class:"font-semibold"},"X",-1)),e("span",null,l(t.$t("service.twitter.connect_profile")),1)])]),_:1},8,["href"]))}},Me={class:"flex mr-4"},je={class:"flex flex-col items-start"},ze={__name:"AddFacebookPage",setup(v){const a=g("workspaceCtx");return(t,n)=>(i(),c(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(a).id,provider:"facebook_page"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-facebook/20 ease-in-out duration-200"},{default:r(()=>[e("span",Me,[o(he,{class:"text-facebook"})]),e("span",je,[n[0]||(n[0]=e("span",{class:"font-semibold"},"Facebook Page",-1)),e("span",null,l(t.$t("service.facebook.connect_page")),1)])]),_:1},8,["href"]))}},De={},qe={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"};function Ee(v,a){return i(),b("svg",qe,a[0]||(a[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"},null,-1)]))}const H=G(De,[["render",Ee]]),Re={class:"flex mr-md"},Ue={class:"flex flex-col items-start"},Ne={key:0,class:"px-lg py-md"},Ye={__name:"AddMastodonAccount",setup(v){const a=g("workspaceCtx"),{notify:t}=z(),n=S(!1),x=S(""),f=S(!1),p=()=>new Promise(($,h)=>{axios.post(route("mixpost.services.createMastodonApp"),{server:x.value}).then(()=>{$()}).catch(function(I){h(I)})}),k=()=>{n.value=!0,M.post(route("mixpost.accounts.add",{workspace:a.id,provider:"mastodon"}),{server:x.value},{onSuccess(){n.value=!1}})},C=async()=>{n.value=!0,await p().then(()=>{k()}).catch($=>t("error",$)).finally(()=>{n.value=!1})};return($,h)=>(i(),b("div",{class:U({"bg-mastodon/20":f.value})},[e("div",{role:"button",onClick:h[0]||(h[0]=I=>f.value=!f.value),type:"button",class:"w-full flex items-center px-lg py-md hover:bg-mastodon/20 ease-in-out duration-200"},[e("span",Re,[o(be,{class:"text-mastodon"})]),e("span",Ue,[h[2]||(h[2]=e("span",{class:"font-semibold"},"Mastodon",-1)),e("span",null,l($.$t("service.mastodon.connect_profile")),1)])]),f.value?(i(),b("div",Ne,[o(B,null,{title:r(()=>[d(l($.$t("service.mastodon.enter_server")),1)]),default:r(()=>[o(j,{type:"text",modelValue:x.value,"onUpdate:modelValue":h[1]||(h[1]=I=>x.value=I),placeholder:"example.server"},null,8,["modelValue"])]),_:1}),o(T,{onClick:C,disabled:!x.value||n.value,isLoading:n.value,size:"md",class:"mt-lg"},{icon:r(()=>[o(H)]),default:r(()=>[d(" "+l($.$t("general.next")),1)]),_:1},8,["disabled","isLoading"])])):m("",!0)],2))}},He={class:"flex mr-4"},Oe={class:"flex flex-col items-start"},We={__name:"AddInstagramAccount",setup(v){const a=g("workspaceCtx");return(t,n)=>(i(),c(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(a).id,provider:"instagram"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-instagram/20 ease-in-out duration-200"},{default:r(()=>[e("span",He,[o($e,{class:"text-instagram"})]),e("span",Oe,[n[0]||(n[0]=e("span",{class:"font-semibold"},"Instagram",-1)),e("span",null,l(t.$t("service.instagram.connect_account")),1)])]),_:1},8,["href"]))}},Xe={class:"flex mr-4"},Ge={class:"flex flex-col items-start"},Je={__name:"AddThreadsAccount",setup(v){const a=g("workspaceCtx");return(t,n)=>(i(),c(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(a).id,provider:"threads"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-threads/20 ease-in-out duration-200"},{default:r(()=>[e("span",Xe,[o(we,{class:"text-threads"})]),e("span",Ge,[n[0]||(n[0]=e("span",{class:"font-semibold"},"Threads",-1)),e("span",null,l(t.$t("service.threads.connect")),1)])]),_:1},8,["href"]))}},Qe={class:"flex mr-sm"},Ke={class:"flex flex-col items-start"},Ze={__name:"AddYoutubeAccount",setup(v){const a=g("workspaceCtx");return(t,n)=>(i(),c(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(a).id,provider:"youtube"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-youtube/20 ease-in-out duration-200"},{default:r(()=>[e("span",Qe,[o(ye,{class:"text-youtube"})]),e("span",Ke,[n[0]||(n[0]=e("span",{class:"font-semibold"},"YouTube",-1)),e("span",null,l(t.$t("service.youtube.connect_profile")),1)])]),_:1},8,["href"]))}},es={class:"flex mr-4"},ss={class:"flex flex-col items-start"},ts={__name:"AddPinterestAccount",setup(v){const a=g("workspaceCtx");return(t,n)=>(i(),c(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(a).id,provider:"pinterest"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-pinterest/20 ease-in-out duration-200"},{default:r(()=>[e("span",es,[o(Ce,{class:"text-pinterest"})]),e("span",ss,[n[0]||(n[0]=e("span",{class:"font-semibold"},"Pinterest",-1)),e("span",null,l(t.$t("service.pinterest.connect_profile")),1)])]),_:1},8,["href"]))}},os={class:"flex mr-4"},as={class:"flex flex-col items-start"},rs={__name:"AddLinkedinProfile",setup(v){const a=g("workspaceCtx");return(t,n)=>(i(),c(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(a).id,provider:"linkedin"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-linkedin/20 ease-in-out duration-200"},{default:r(()=>[e("span",os,[o(V,{provider:"linkedin"})]),e("span",as,[n[0]||(n[0]=e("span",{class:"font-semibold"},"LinkedIn Profile",-1)),e("span",null,l(t.$t("service.linkedin.connect_profile")),1)])]),_:1},8,["href"]))}},ns={class:"flex mr-4"},ls={class:"flex flex-col items-start"},is={__name:"AddLinkedinPage",setup(v){const a=g("workspaceCtx");return(t,n)=>(i(),c(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(a).id,provider:"linkedin_page"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-linkedin/20 ease-in-out duration-200"},{default:r(()=>[e("span",ns,[o(V,{provider:"linkedin"})]),e("span",ls,[n[0]||(n[0]=e("span",{class:"font-semibold"},"LinkedIn Page",-1)),e("span",null,l(t.$t("service.linkedin.connect_page")),1)])]),_:1},8,["href"]))}},cs={class:"flex mr-4"},us={class:"flex flex-col items-start"},ds={__name:"AddTikTokAccount",setup(v){const a=g("workspaceCtx");return(t,n)=>(i(),c(s(y),{href:t.route("mixpost.accounts.add",{workspace:s(a).id,provider:"tiktok"}),method:"post",as:"button",type:"button",class:"w-full flex items-center px-lg py-4 hover:bg-tiktok/20 ease-in-out duration-200"},{default:r(()=>[e("span",cs,[o(V,{provider:"tiktok"})]),e("span",us,[n[0]||(n[0]=e("span",{class:"font-semibold"},"TikTok",-1)),e("span",null,l(t.$t("service.tiktok.connect_profile")),1)])]),_:1},8,["href"]))}},ps={class:"flex mr-md"},fs={class:"flex flex-col items-start"},_s={key:0,class:"px-lg py-md"},ms={__name:"AddBlueskyAccount",setup(v){const a=g("workspaceCtx"),t=N({service:"bluesky",server:""}),n=S(!1),x=()=>{t.transform(f=>(f.service!=="custom"&&delete f.server,f)).post(route("mixpost.accounts.add",{workspace:a.id,provider:"bluesky"}))};return(f,p)=>(i(),b("div",{class:U({"bg-bluesky/20":n.value})},[e("div",{role:"button",onClick:p[0]||(p[0]=k=>n.value=!n.value),type:"button",class:"w-full flex items-center px-lg py-md hover:bg-bluesky/20 ease-in-out duration-200"},[e("span",ps,[o(V,{provider:"bluesky"})]),e("span",fs,[p[4]||(p[4]=e("span",{class:"font-semibold"},"Bluesky",-1)),e("span",null,l(f.$t("service.bluesky.connect_profile")),1)])]),n.value?(i(),b("div",_s,[e("form",{onSubmit:Q(x,["prevent"])},[o(B,null,{title:r(()=>[d(l(f.$t("service.bluesky.service")),1)]),default:r(()=>[o(Y,null,{default:r(()=>[e("label",null,[o(R,{checked:s(t).service,"onUpdate:checked":p[1]||(p[1]=k=>s(t).service=k),value:"bluesky"},null,8,["checked"]),p[5]||(p[5]=d(" Bluesky"))]),e("label",null,[o(R,{checked:s(t).service,"onUpdate:checked":p[2]||(p[2]=k=>s(t).service=k),value:"custom"},null,8,["checked"]),d(" "+l(f.$t("general.custom")),1)])]),_:1})]),_:1}),s(t).service==="custom"?(i(),c(B,{key:0,class:"mt-lg"},{title:r(()=>[d(l(f.$t("service.bluesky.server_address")),1)]),footer:r(()=>[o(J,{message:s(t).errors.server},null,8,["message"])]),default:r(()=>[o(j,{type:"url",modelValue:s(t).server,"onUpdate:modelValue":p[3]||(p[3]=k=>s(t).server=k),error:s(t).errors.server,placeholder:"https://example.com",required:""},null,8,["modelValue","error"])]),_:1})):m("",!0),o(T,{disabled:s(t).service==="custom"&&!s(t).server||s(t).processing,isLoading:s(t).processing,size:"md",type:"submit",class:"mt-lg"},{icon:r(()=>[o(H)]),default:r(()=>[d(" "+l(f.$t("general.next")),1)]),_:1},8,["disabled","isLoading"])],32)])):m("",!0)],2))}},vs={class:"flex items-center justify-center h-full border border-primary-800 rounded-lg hover:border-primary-500 hover:text-primary-500 transition-colors ease-in-out duration-200"},ks={class:"p-lg"},gs={class:"flex flex-col justify-center items-center"},xs={class:"mt-xs text-lg"},hs={__name:"GridAddElement",setup(v){return(a,t)=>(i(),b("span",vs,[e("span",ks,[e("span",gs,[o(K,{class:"w-7 h-7"}),e("span",xs,[Z(a.$slots,"default")])])])]))}},bs=()=>{const{notify:v}=z(),a=ee(()=>se().props.errors);te(()=>a.value,t=>{v("error",oe(t))})},$s={class:"w-full mx-auto row-py"},ws={class:"mt-lg row-px w-full"},ys={key:0,class:"mb-md"},Cs=["href"],As={class:"w-full grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 2xl:grid-cols-5 gap-6"},Ss={class:"flex flex-col justify-center relative"},Is={key:0,class:"absolute top-0 left-0"},Ps={class:"w-md h-md bg-red-500 rounded-full"},Ts={class:"mt-sm font-semibold text-center break-words"},Vs={class:"mt-1 text-center text-stone-800"},Ls={class:"absolute top-0 right-0 mt-sm mr-sm"},Fs={class:"mt-xs"},Bs={class:"flex flex-col"},Gs={__name:"Accounts",setup(v){const{t:a}=ae(),t=g("workspaceCtx"),n=g("routePrefix"),x=a("account.accounts"),{notify:f}=z(),p=S(!1),k=S(null),C=S(!1),$=u=>{M.put(route("mixpost.accounts.update",{workspace:t.id,account:u}),{},{preserveScroll:!0,onSuccess(A){A.props.flash.error||f("success",a("account.account_updated"))}})},h=()=>{M.delete(route(`${n}.accounts.delete`,{workspace:t.id,account:k.value}),{preserveScroll:!0,onStart(){C.value=!0},onSuccess(){k.value=null,f("success",a("account.account_deleted"))},onFinish(){C.value=!1}})},I=()=>{C.value||(k.value=null)},L=S(!1),w=N({uuid:null,name:""}),O=u=>{L.value=!0,w.uuid=u.uuid,w.name=u.suffix},F=()=>{L.value=null,w.reset()},W=()=>{w.put(route(`${n}.accounts.updateSuffix`,{workspace:t.id,account:w.uuid}),{onSuccess(){F()}})};return bs(),(u,A)=>{const X=re("tooltip");return i(),b(q,null,[o(s(ne),{title:s(x)},null,8,["title"]),e("div",$s,[o(ve,{title:s(x)},{description:r(()=>[d(l(s(a)("account.connect_social_account")),1)]),_:1},8,["title"]),e("div",ws,[o(Pe,{isConfigured:u.$page.props.is_configured_service},null,8,["isConfigured"]),!u.$page.props.is_service_active.twitter&&u.$page.props.enterprise_config.workspace_twitter_service?(i(),b("div",ys,[o(Te,{variant:"warning",closeable:!1},{default:r(()=>[e("p",null,l(s(a)("service.not_configured_service",{service:"X"})),1)]),_:1}),o(Y,null,{default:r(()=>[e("a",{href:`/${u.$page.props.mixpost.core_path}/${s(t).id}/workspace-services?redirect-to-accounts=true`,class:"mt-md block"},[o(T,null,{default:r(()=>[d(l(s(a)("service.configure_services")),1)]),_:1})],8,Cs)]),_:1})])):m("",!0),e("div",As,[e("button",{onClick:A[0]||(A[0]=_=>p.value=!0)},[o(hs,null,{default:r(()=>[d(l(s(a)("account.add_account")),1)]),_:1})]),(i(!0),b(q,null,le(u.$page.props.accounts,_=>(i(),c(ke,{key:_.id,class:"relative"},{default:r(()=>[e("div",Ss,[o(ge,{size:"lg","img-url":_.image,provider:_.provider,name:_.name,active:!0},null,8,["img-url","provider","name"]),_.authorized?m("",!0):(i(),b("div",Is,[pe(e("div",Ps,null,512),[[X,s(a)("account.unauthorized")]])])),e("div",Ts,l(_.name),1),e("div",Vs,l(s(a)("account.added"))+" "+l(_.created_at),1)]),e("div",Ls,[o(fe,{widthClasses:"56"},{trigger:r(()=>[o(me,null,{default:r(()=>[o(Ae)]),_:1})]),content:r(()=>[_.external_account_url?(i(),c(P,{key:0,as:"a",href:_.external_account_url,target:"_blank"},{icon:r(()=>[o(Ve)]),default:r(()=>[d(" "+l(s(a)("account.open_account_page")),1)]),_:2},1032,["href"])):m("",!0),o(P,{onClick:D=>$(_.uuid),as:"button"},{icon:r(()=>[o(Se)]),default:r(()=>[d(" "+l(s(a)("general.update")),1)]),_:2},1032,["onClick"]),o(P,{onClick:D=>O(_),as:"button"},{icon:r(()=>[o(_e)]),default:r(()=>[d(" "+l(s(a)("account.edit_suffix")),1)]),_:2},1032,["onClick"]),o(P,{onClick:D=>k.value=_.uuid,as:"button"},{icon:r(()=>[o(Ie,{class:"text-red-500"})]),default:r(()=>[d(" "+l(s(a)("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128))])])]),o(ie,{show:L.value,"max-width":"sm",closeable:!0,"scrollable-body":!0,onClose:F},{header:r(()=>[d(l(s(a)("account.edit_account_suffix")),1)]),body:r(()=>[e("div",Fs,[o(j,{type:"text",modelValue:s(w).name,"onUpdate:modelValue":A[1]||(A[1]=_=>s(w).name=_),placeholder:s(a)("account.enter_suffix")},null,8,["modelValue","placeholder"])])]),footer:r(()=>[o(E,{onClick:F,class:"mr-xs"},{default:r(()=>[d(l(s(a)("general.close")),1)]),_:1}),o(T,{onClick:W,isLoading:s(w).processing,disabled:s(w).processing},{default:r(()=>[d(l(s(a)("general.save")),1)]),_:1},8,["isLoading","disabled"])]),_:1},8,["show"]),o(ue,{show:k.value!==null,onClose:I,variant:"danger"},{header:r(()=>[d(l(s(a)("account.delete_account")),1)]),body:r(()=>[d(l(s(a)("account.confirm_delete_account")),1)]),footer:r(()=>[o(E,{onClick:I,disabled:C.value,class:"mr-xs"},{default:r(()=>[d(l(s(a)("general.cancel")),1)]),_:1},8,["disabled"]),o(ce,{onClick:h,"is-loading":C.value,disabled:C.value},{default:r(()=>[d(l(s(a)("general.delete")),1)]),_:1},8,["is-loading","disabled"])]),_:1},8,["show"]),o(de,{show:p.value,closeable:!0,onClose:A[2]||(A[2]=_=>p.value=!1)},{default:r(()=>[e("div",Bs,[u.$page.props.is_service_active.facebook?(i(),c(ze,{key:0})):m("",!0),u.$page.props.is_service_active.facebook?(i(),c(We,{key:1})):m("",!0),u.$page.props.is_service_active.threads?(i(),c(Je,{key:2})):m("",!0),o(Ye),u.$page.props.is_service_active.bluesky?(i(),c(ms,{key:3})):m("",!0),u.$page.props.is_service_active.google?(i(),c(Ze,{key:4})):m("",!0),u.$page.props.is_service_active.pinterest?(i(),c(ts,{key:5})):m("",!0),u.$page.props.is_service_active.linkedin?(i(),c(rs,{key:6})):m("",!0),u.$page.props.is_service_active.linkedin&&u.$page.props.additionally.linkedin_supports_pages?(i(),c(is,{key:7})):m("",!0),u.$page.props.is_service_active.tiktok?(i(),c(ds,{key:8})):m("",!0),u.$page.props.is_service_active.twitter?(i(),c(Be,{key:9})):m("",!0)])]),_:1},8,["show"])],64)}}};export{Gs as default};
