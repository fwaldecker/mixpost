import{d as w,u as $,D as x,M as b,H as C,c as _,o as t,a as e,e as o,b as l,g as B,w as a,F as f,r as D,h as p,k as n,t as r,j as h,m as L,z as N,a1 as T}from"./app-C7yQ4yxP.js";import{D as V,_ as I}from"./Admin-2kdh7iq6.js";import{_ as j}from"./PageHeader-L61bBZJ1.js";import{_ as F}from"./Panel-DHnLtGhx.js";import{_ as M,T as q}from"./Tab-QSPdE2y6.js";import{_ as z}from"./Alert-nkqBEIg3.js";import{_ as A}from"./Textarea-Cj05CTrn.js";import{_ as E}from"./NoResult-BiKMAkVj.js";import"./QueueList-DM6iDr1_.js";import"./Flex-B0LjVlwe.js";const H={class:"w-full mx-auto row-py"},O={class:"w-full row-px"},S={class:"mt-lg row-px w-full"},W={class:"mt-md"},G=["href"],J=w({layout:I}),se=Object.assign(J,{__name:"Logs",props:{logs:{required:!0,type:Array}},setup(d){const{t:m}=$(),v=m("system.system_logs"),g=d,c=x(null);b(()=>{g.logs.length&&(c.value=g.logs[0].name)});const s=C(()=>{const i=g.logs.find(y=>y.name===c.value);return i||!1}),k=()=>{T.delete(route("mixpost.system.logs.clear"),{data:{filename:s.value.name}})};return(i,y)=>(t(),_(f,null,[e(l(B),{title:l(v)},null,8,["title"]),o("div",H,[e(j,{title:l(v)},null,8,["title"]),o("div",O,[e(q,null,{default:a(()=>[(t(!0),_(f,null,D(d.logs,u=>(t(),p(M,{key:u.name,onClick:K=>c.value=u.name,active:c.value===u.name},{icon:a(()=>[e(V)]),default:a(()=>[n(" "+r(u.name),1)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),o("div",S,[e(F,{class:"mt-lg"},{default:a(()=>[d.logs.length?(t(),_(f,{key:0},[s.value?(t(),_(f,{key:0},[s.value.error?(t(),p(z,{key:0,closeable:!1,variant:"warning",class:"mb-md"},{default:a(()=>[n(r(s.value.error),1)]),_:1})):h("",!0),e(A,{value:s.value.contents,class:"h-96",readonly:""},null,8,["value"])],64)):h("",!0),o("div",W,[o("a",{href:i.route("mixpost.system.logs.download",{filename:s.value.name}),target:"_blank"},[e(L,{class:"mr-xs rtl:mr-0 rtl:ml-xs"},{default:a(()=>[n(r(l(m)("general.download")),1)]),_:1})],8,G),e(N,{onClick:k},{default:a(()=>[n(r(l(m)("general.clean_up")),1)]),_:1})])],64)):(t(),p(E,{key:1},{default:a(()=>[n(r(l(m)("system.there_are_no_logs")),1)]),_:1}))]),_:1})])])],64))}});export{se as default};
