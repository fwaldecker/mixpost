import{d as z,u as M,c,o as f,a as t,e as _,b as u,g as H,w as e,m as T,k as n,t as i,a3 as v,j as h,h as b,F as q,n as S}from"./app-C7yQ4yxP.js";import{_ as w}from"./Admin-2kdh7iq6.js";import{_ as L}from"./PageHeader-L61bBZJ1.js";import{_ as $}from"./Panel-DHnLtGhx.js";import{T as p,a as m,_ as a}from"./TableCell-Do7VWhok.js";import{C as B}from"./Clipboard-C4EFUpKL.js";import"./QueueList-DM6iDr1_.js";import"./Flex-B0LjVlwe.js";const C={class:"w-full mx-auto row-py"},D={class:"mt-lg row-px w-full"},F={key:0},N={class:"block"},j={key:1},E={class:"block"},P={key:2},V={class:"block"},O=["innerHTML"],I={key:0},A={key:1},G=["innerHTML"],J=["innerHTML"],K=["innerHTML"],Q=z({layout:w}),se=Object.assign(Q,{__name:"Status",props:{env:String,debug:Boolean,horizon_status:String,has_queue_connection:Boolean,last_scheduled_run:Object,broadcast_driver:String,cache_driver:String,base_path:String,disk:String,log_channel:String,user_agent:String,ffmpeg_status:String,versions:Object},setup(l){const{t:s}=M(),d=l,{notify:y}=S(),g=s("system.system_status"),k=()=>{let o=`## ${s("system.describe_your_issue")}

--- 
`;return o+=`## ${s("system.health")}

`,o+=`**${s("system.environment")}**: ${d.env} 
`,o+=`**${s("system.debug_mode")}**: ${d.debug?s("general.enabled"):s("general.disabled")} 
`,o+=`**Horizon**: ${s("system."+d.horizon_status)} 
`,o+=`**${s("system.queue_connection")}**: ${d.has_queue_connection?s("general.ok"):s("system.not_ok")} 
`,o+=`**${s("system.schedule")}**: ${d.last_scheduled_run.message} 
`,o+=`
`,o+=`## ${s("system.technical_details")}:

`,o+=`**${s("system.app_directory")}**: ${d.base_path} 
`,o+=`**${s("system.upload_media_disk")}**: ${d.disk} 
`,o+=`**${s("system.log_channel")}**: ${d.log_channel} 
`,o+=`**Broadcast Driver**: ${d.broadcast_driver} 
`,o+=`**Cache Driver**: ${d.cache_driver} 
`,o+=`**${s("system.user_agent")}**: ${d.user_agent} 
`,o+=`**FFmpeg**: ${d.ffmpeg_status} 
`,d.versions.mysql&&(o+=`**MySql**: ${d.versions.mysql} 
`),o+=`**PHP**: ${d.versions.php} 
`,o+=`**Laravel**: ${d.versions.laravel} 
`,o+=`**Horizon**: ${d.versions.horizon} 
`,o+=`**Mixpost**: ${d.versions.mixpost} 
`,d.versions.mixpost_enterprise&&(o+=`**Mixpost Enterprise**: ${d.versions.mixpost_enterprise} 
`),o},x=()=>{navigator.clipboard.writeText(k()).then(()=>{y("success",s("system.info_copied"))}).catch(()=>{y("error",s("system.error_copy_info"))})};return(o,r)=>(f(),c(q,null,[t(u(H),{title:u(g)},null,8,["title"]),_("div",C,[t(L,{title:u(g)},{default:e(()=>[t(T,{onClick:x,size:"md"},{default:e(()=>[t(B,{class:"mr-xs"}),n(" "+i(u(s)("system.copy")),1)]),_:1})]),_:1},8,["title"]),_("div",D,[t($,null,{title:e(()=>[n(i(u(s)("system.health")),1)]),default:e(()=>[t(p,null,{body:e(()=>[t(m,{hoverable:!0},{default:e(()=>[t(a,null,{default:e(()=>[t(v,{variant:l.env==="production"?"success":"warning"},{default:e(()=>r[0]||(r[0]=[n("Environment")])),_:1},8,["variant"])]),_:1}),t(a,null,{default:e(()=>[n(i(l.env),1)]),_:1})]),_:1}),t(m,{hoverable:!0},{default:e(()=>[t(a,null,{default:e(()=>[t(v,{variant:l.debug?"warning":"success"},{default:e(()=>r[1]||(r[1]=[n("Debug Mode")])),_:1},8,["variant"])]),_:1}),t(a,null,{default:e(()=>[n(i(l.debug?u(s)("general.enabled"):u(s)("general.disabled")),1)]),_:1})]),_:1}),t(m,{hoverable:!0},{default:e(()=>[t(a,null,{default:e(()=>[t(v,{variant:l.horizon_status==="active"?"success":l.horizon_status==="paused"?"warning":"error"},{default:e(()=>r[2]||(r[2]=[n(" Horizon ")])),_:1},8,["variant"])]),_:1}),t(a,null,{default:e(()=>[l.horizon_status==="active"?(f(),c("span",F,[_("span",N,i(u(s)("system.active")),1)])):h("",!0),l.horizon_status==="paused"?(f(),c("span",j,[_("span",E,i(u(s)("system.paused")),1)])):h("",!0),l.horizon_status==="inactive"?(f(),c("span",P,[_("span",V,i(u(s)("system.inactive")),1),_("span",{innerHTML:u(s)("util.read_doc",{href:`${o.$page.props.mixpost.docs_link}/${l.versions.mixpost_enterprise?"enterprise/installation/laravel-package#6-install-horizon":"pro/installation/laravel-package#5-install-horizon"}`})},null,8,O)])):h("",!0)]),_:1})]),_:1}),t(m,{hoverable:!0},{default:e(()=>[t(a,null,{default:e(()=>[t(v,{variant:l.has_queue_connection?"success":"error"},{default:e(()=>[n(i(u(s)("system.queue_connection")),1)]),_:1},8,["variant"])]),_:1}),t(a,null,{default:e(()=>[l.has_queue_connection?(f(),c("span",I,i(u(s)("system.connection_settings_redis_exist")),1)):(f(),c("span",A,[_("span",{class:"block",innerHTML:u(s)("system.no_queue_connection")},null,8,G),_("span",{class:"block",innerHTML:u(s)("system.config_connection")},null,8,J),_("span",{innerHTML:u(s)("util.read_doc",{href:`${o.$page.props.mixpost.docs_link}/${l.versions.mixpost_enterprise?"enterprise/installation/laravel-package#6-install-horizon":"pro/installation/laravel-package#5-install-horizon"}`})},null,8,K)]))]),_:1})]),_:1}),t(m,{hoverable:!0},{default:e(()=>[t(a,null,{default:e(()=>[t(v,{variant:l.last_scheduled_run.variant},{default:e(()=>[n(i(u(s)("system.schedule")),1)]),_:1},8,["variant"])]),_:1}),t(a,null,{default:e(()=>[n(i(l.last_scheduled_run.message),1)]),_:1})]),_:1})]),_:1})]),_:1}),t($,{class:"mt-lg"},{title:e(()=>[n(i(u(s)("system.technical_details")),1)]),default:e(()=>[t(p,null,{body:e(()=>[t(m,{hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>[n(i(u(s)("system.app_directory")),1)]),_:1}),t(a,null,{default:e(()=>[n(i(l.base_path),1)]),_:1})]),_:1}),t(m,{hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>[n(i(u(s)("system.upload_media_disk")),1)]),_:1}),t(a,null,{default:e(()=>[n(i(l.disk),1)]),_:1})]),_:1}),t(m,{hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>[n(i(u(s)("system.log_channel")),1)]),_:1}),t(a,null,{default:e(()=>[n(i(l.log_channel),1)]),_:1})]),_:1}),t(m,{hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>r[3]||(r[3]=[n(" Broadcast Driver ")])),_:1}),t(a,null,{default:e(()=>[n(i(l.broadcast_driver?l.broadcast_driver:"-"),1)]),_:1})]),_:1}),t(m,{hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>r[4]||(r[4]=[n(" Cache Driver ")])),_:1}),t(a,null,{default:e(()=>[n(i(l.cache_driver),1)]),_:1})]),_:1}),t(m,{hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>[n(i(u(s)("system.user_agent")),1)]),_:1}),t(a,null,{default:e(()=>[n(i(l.user_agent),1)]),_:1})]),_:1}),t(m,{hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>r[5]||(r[5]=[n(" FFMpeg ")])),_:1}),t(a,null,{default:e(()=>[n(i(l.ffmpeg_status),1)]),_:1})]),_:1}),l.versions.mysql?(f(),b(m,{key:0,hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>r[6]||(r[6]=[n(" MySql ")])),_:1}),t(a,null,{default:e(()=>[n(i(l.versions.mysql),1)]),_:1})]),_:1})):h("",!0),t(m,{hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>r[7]||(r[7]=[n(" PHP ")])),_:1}),t(a,null,{default:e(()=>[n(i(l.versions.php),1)]),_:1})]),_:1}),t(m,{hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>r[8]||(r[8]=[n(" Laravel ")])),_:1}),t(a,null,{default:e(()=>[n(i(l.versions.laravel),1)]),_:1})]),_:1}),t(m,{hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>r[9]||(r[9]=[n(" Horizon ")])),_:1}),t(a,null,{default:e(()=>[n(i(l.versions.horizon),1)]),_:1})]),_:1}),t(m,{hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>r[10]||(r[10]=[n(" Mixpost ")])),_:1}),t(a,null,{default:e(()=>[n(i(l.versions.mixpost),1)]),_:1})]),_:1}),l.versions.mixpost_enterprise?(f(),b(m,{key:1,hoverable:!0},{default:e(()=>[t(a,{class:"font-medium"},{default:e(()=>r[11]||(r[11]=[n(" Mixpost Enterprise ")])),_:1}),t(a,null,{default:e(()=>[n(i(l.versions.mixpost_enterprise),1)]),_:1})]),_:1})):h("",!0)]),_:1})]),_:1})])])],64))}});export{se as default};
