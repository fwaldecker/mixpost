import{d as E,i as O,D as j,x as B,H as g,c as n,o as t,a as l,e as _,b as a,g as D,f as L,w as o,h as y,j as i,F as h,r as N,s as R,_ as $,O as k,t as r,m as U,k as b}from"./app-C7yQ4yxP.js";import{_ as x}from"./Minimal-Bp2gpLcE.js";import{_ as F}from"./Panel-DHnLtGhx.js";import{_ as q}from"./Flex-B0LjVlwe.js";const A={class:"w-full sm:max-w-(--container-lg) mx-auto"},S={key:0},T={key:1},H={for:"code"},M={for:"recovery_code"},P=E({layout:x}),K=Object.assign(P,{__name:"TwoFactorLogin",setup(Y){O("routePrefix");const m="code",v="recovery_code",u=j(m),s=B({code:"",recovery_code:""}),f=g(()=>u.value===m),p=g(()=>u.value===v),C=()=>{u.value=m},w=()=>{u.value=v},V=()=>{s.post(route("mixpost.two-factor.login"))};return(e,d)=>(t(),n(h,null,[l(a(D),{title:e.$t("auth.sign_in")},null,8,["title"]),_("div",A,[_("form",{onSubmit:L(V,["prevent"])},[l(F,null,{title:o(()=>[b(r(e.$t("auth.two_factor_authentication")),1)]),description:o(()=>[f.value?(t(),n("span",S,r(e.$t("auth.confirm_access_authentication_code")),1)):i("",!0),p.value?(t(),n("span",T,r(e.$t("auth.confirm_access_emergency_codes")),1)):i("",!0)]),default:o(()=>[(t(!0),n(h,null,N(a(s).errors,c=>(t(),y(R,{message:c,class:"mb-xs"},null,8,["message"]))),256)),f.value?(t(),y($,{key:0},{title:o(()=>[_("label",H,r(e.$t("profile.code")),1)]),default:o(()=>[l(k,{modelValue:a(s).code,"onUpdate:modelValue":d[0]||(d[0]=c=>a(s).code=c),type:"text",id:"code",class:"w-full",autofocus:"",required:""},null,8,["modelValue"])]),_:1})):i("",!0),p.value?(t(),y($,{key:1},{title:o(()=>[_("label",M,r(e.$t("auth.recovery_code")),1)]),default:o(()=>[l(k,{modelValue:a(s).recovery_code,"onUpdate:modelValue":d[1]||(d[1]=c=>a(s).recovery_code=c),type:"text",id:"recovery_code",class:"w-full",autofocus:"",required:""},null,8,["modelValue"])]),_:1})):i("",!0),l(q,{class:"justify-between mt-lg"},{default:o(()=>[l(U,{disabled:a(s).processing,isLoading:a(s).processing,type:"submit"},{default:o(()=>[b(r(e.$t("auth.login")),1)]),_:1},8,["disabled","isLoading"]),f.value?(t(),n("div",{key:0,onClick:w,role:"button",class:"link-primary"},r(e.$t("auth.use_recovery_code")),1)):i("",!0),p.value?(t(),n("div",{key:1,onClick:C,role:"button",class:"link-primary"},r(e.$t("auth.use_authentication_code")),1)):i("",!0)]),_:1})]),_:1})],32)])],64))}});export{K as default};
